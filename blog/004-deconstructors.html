<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover"
		/>

		<!-- Favicons -->
		<link rel="icon" type="image/png" href="../favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/svg+xml" href="../favicon.svg" />
		<link rel="shortcut icon" href="../favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png" />
		<meta name="apple-mobile-web-app-title" content="Maltsev.Space" />
		<link rel="manifest" href="../site.webmanifest" />
		
		<link href="../_app/immutable/assets/one-column-layout.dk0RUYX7.css" rel="stylesheet">
		<link href="../_app/immutable/assets/tag-cloud.BKSHmxVx.css" rel="stylesheet">
		<link href="../_app/immutable/assets/0.CaXpniMl.css" rel="stylesheet">
		<link href="../_app/immutable/assets/posts.BYtmJbQG.css" rel="stylesheet">
		<link href="../_app/immutable/assets/8.BFZU1Dea.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.C1VKrDq1.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CO37xNmt.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BzDwjmS4.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CMhBHpTF.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CYgJF_JY.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bn5Dz8OT.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dp1pzeXC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/WW_bM7uf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BA34N8rq.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CnNU8nIr.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DnfssJ93.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BpqAtxJX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C3EyF-MC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CxTlLPdo.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DasYoi_Y.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/8.poK3G2pj.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B7cUKfmc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CSyJEvDV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bv3Nb8U6.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DNSHY1Ls.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B7wrzUvB.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/whdSpjwP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cep9tbOI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CK2mQi5F.js"><!--[--><link rel="alternate" type="application/rss+xml" title="Aleksey Maltsev's Blog" href="/rss.xml"> <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><!--]--><!--[--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous"><!--]--><!--[--><meta name="description" content="How and when to use deconstruction syntax-sugar for your custom types in C#"> <link rel="canonical" href="https://maltsev.space/blog/004-deconstructors"> <!--[!--><meta name="robots" content="index, follow"><!--]--> <meta property="og:type" content="article"> <meta property="og:title" content="Benefits of deconstructors for custom types | MALTSEV.SPACE"> <meta property="og:description" content="How and when to use deconstruction syntax-sugar for your custom types in C#"> <meta property="og:image" content="https://maltsev.space/images/posts/004-deconstructors/hero.jpg"> <meta property="og:image:alt" content="Benefits of deconstructors for custom types - Blog post hero image"> <meta property="og:url" content="https://maltsev.space/blog/004-deconstructors"> <meta property="og:site_name" content="MALTSEV.SPACE"> <meta property="og:locale" content="en_US"> <!--[--><!--[--><meta property="article:published_time" content="2018-11-15T00:00:00.000Z"><!--]--> <!--[!--><!--]--> <!--[--><meta property="article:author" content="Aleksey Maltsev"><!--]--> <meta property="article:section" content="Technology"> <!--[--><meta property="article:tag" content="C#"><meta property="article:tag" content="deconstructors"><meta property="article:tag" content="tuples"><meta property="article:tag" content="operation-result"><meta property="article:tag" content="C#"><!--]--><!--]--> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="Benefits of deconstructors for custom types | MALTSEV.SPACE"> <meta name="twitter:description" content="How and when to use deconstruction syntax-sugar for your custom types in C#"> <meta name="twitter:image" content="https://maltsev.space/images/posts/004-deconstructors/hero.jpg"> <meta name="twitter:image:alt" content="Benefits of deconstructors for custom types - Blog post hero image"> <meta name="twitter:site" content="@axel_user"> <meta name="twitter:creator" content="@axel_user">  <!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Aleksey Maltsev","jobTitle":"Senior Software Engineer","description":"Senior Software Engineer focused on distributed systems and highload applications","url":"https://maltsev.space/","image":"https://maltsev.space/images/ava.jpg","sameAs":["https://github.com/AxelUser","https://www.linkedin.com/in/dev-alexey-maltsev/"]}</script><!----> <!--[!--><!--]--> <!--[--><!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Benefits of deconstructors for custom types","description":"How and when to use deconstruction syntax-sugar for your custom types in C#","image":"https://maltsev.space/images/posts/004-deconstructors/hero.jpg","author":{"@context":"https://schema.org","@type":"Person","name":"Aleksey Maltsev","jobTitle":"Senior Software Engineer","description":"Senior Software Engineer focused on distributed systems and highload applications","url":"https://maltsev.space/","image":"https://maltsev.space/images/ava.jpg","sameAs":["https://github.com/AxelUser","https://www.linkedin.com/in/dev-alexey-maltsev/"]},"publisher":{"@context":"https://schema.org","@type":"Person","name":"Aleksey Maltsev","jobTitle":"Senior Software Engineer","description":"Senior Software Engineer focused on distributed systems and highload applications","url":"https://maltsev.space/","image":"https://maltsev.space/images/ava.jpg","sameAs":["https://github.com/AxelUser","https://www.linkedin.com/in/dev-alexey-maltsev/"]},"url":"https://maltsev.space/blog/004-deconstructors","datePublished":"2018-11-15T00:00:00.000Z","dateModified":"2018-11-15T00:00:00.000Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://maltsev.space/blog/004-deconstructors"},"keywords":["C#","deconstructors","tuples","operation-result","C#"]}</script><!----><!--]--><!--]--><title>Benefits of deconstructors for custom types | MALTSEV.SPACE</title>
	</head>

	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="space-layout svelte-144yekp"><header class="svelte-1eq0cli"><div class="space-container nav-bar svelte-7gsxae"><div class="logo svelte-1eq0cli"><a href="/" class="svelte-1eq0cli">MALTSEV.SPACE</a></div> <ul class="nav-links svelte-1eq0cli"><li><a class="nav-link svelte-1eq0cli" href="/">Home</a></li> <li><a class="nav-link svelte-1eq0cli" href="/about">About</a></li> <li><a class="nav-link svelte-1eq0cli" href="/art">Gallery</a></li> <li><a class="nav-link svelte-1eq0cli" href="/blog">Blog</a></li></ul> <div class="nav-actions svelte-1eq0cli"><a href="/rss.xml" class="rss-link nav-link svelte-1eq0cli" aria-label="RSS Feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="lucide-icon lucide lucide-rss"><!--[--><!----><path d="M4 11a9 9 0 0 1 9 9"><!----></path><!----><!----><path d="M4 4a16 16 0 0 1 16 16"><!----></path><!----><!----><circle cx="5" cy="19" r="1"><!----></circle><!----><!--]--><!----><!----></svg><!----></a> <div class="theme-switch svelte-awph5w"><button class="theme-button svelte-awph5w" title="Light theme" aria-label="Light theme"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-sun"><!--[--><!----><circle cx="12" cy="12" r="4"><!----></circle><!----><!----><path d="M12 2v2"><!----></path><!----><!----><path d="M12 20v2"><!----></path><!----><!----><path d="m4.93 4.93 1.41 1.41"><!----></path><!----><!----><path d="m17.66 17.66 1.41 1.41"><!----></path><!----><!----><path d="M2 12h2"><!----></path><!----><!----><path d="M20 12h2"><!----></path><!----><!----><path d="m6.34 17.66-1.41 1.41"><!----></path><!----><!----><path d="m19.07 4.93-1.41 1.41"><!----></path><!----><!--]--><!----><!----></svg><!----></button> <button class="theme-button svelte-awph5w" title="Dark theme" aria-label="Dark theme"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-moon"><!--[--><!----><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"><!----></path><!----><!--]--><!----><!----></svg><!----></button> <button class="theme-button svelte-awph5w active" title="System theme" aria-label="System theme"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-laptop"><!--[--><!----><path d="M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16"><!----></path><!----><!--]--><!----><!----></svg><!----></button></div><!----> <button class="mobile-menu-toggle svelte-1eq0cli" aria-label="Toggle menu"><!--[!--><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="lucide-icon lucide lucide-menu"><!--[--><!----><path d="M4 12h16"><!----></path><!----><!----><path d="M4 18h16"><!----></path><!----><!----><path d="M4 6h16"><!----></path><!----><!--]--><!----><!----></svg><!--]--></button></div><!----></div><!----> <div class="mobile-nav svelte-1eq0cli"><ul class="svelte-1eq0cli"><li class="svelte-1eq0cli"><a class="nav-link svelte-1eq0cli" href="/">Home</a></li> <li class="svelte-1eq0cli"><a class="nav-link svelte-1eq0cli" href="/about">About</a></li> <li class="svelte-1eq0cli"><a class="nav-link svelte-1eq0cli" href="/art">Gallery</a></li> <li class="svelte-1eq0cli"><a class="nav-link svelte-1eq0cli" href="/blog">Blog</a></li></ul></div></header><!----> <div class="stars-background svelte-1xnwqdy"><!--[--><!--]--></div><!----> <main class="svelte-144yekp"><!--[!--><!----><!----> <div class="hero-background-container svelte-hmgmo2"><!--[--><img src="data:image/png;base64,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" alt="Benefits of deconstructors for custom types hero image placeholder" class="hero-image hero-placeholder-image svelte-hmgmo2"> <!--[!--><picture class="svelte-hmgmo2"><!--[--><source srcset="/_app/immutable/assets/hero.DHJN1i56.avif 1x, /_app/immutable/assets/hero.BWC0aIsx.avif 2x" sizes="min(1536px, 100vw)" type="image/avif" class="svelte-hmgmo2"><source srcset="/_app/immutable/assets/hero.rZXXPvDY.webp 1x, /_app/immutable/assets/hero.BR2iEz3e.webp 2x" sizes="min(1536px, 100vw)" type="image/webp" class="svelte-hmgmo2"><source srcset="/_app/immutable/assets/hero.CUyFO4Uw.jpg 1x, /_app/immutable/assets/hero.ww2i52rY.jpg 2x" sizes="min(1536px, 100vw)" type="image/jpeg" class="svelte-hmgmo2"><!--]--> <img src="/_app/immutable/assets/hero.ww2i52rY.jpg" alt="Benefits of deconstructors for custom types hero image" loading="lazy" class="hero-image hero-background-image svelte-hmgmo2" width="1536" height="1024" onload="this.__e=event" onerror="this.__e=event"></picture><!--]--><!--]--> <div class="hero-content svelte-hmgmo2"><hgroup class="svelte-hmgmo2"><div class="post-meta svelte-hmgmo2"><time datetime="2024-06-15" class="publish-date svelte-hmgmo2">2018-11-15</time> <span class="meta-separator svelte-hmgmo2">•</span> <span class="author-name svelte-hmgmo2">by Aleksey Maltsev</span> <!--[--><span class="meta-separator svelte-hmgmo2">•</span> <span class="views-count svelte-hmgmo2">6 views</span><!--]--></div> <h1 class="space-title svelte-hmgmo2">Benefits of deconstructors for custom types</h1> <!--[--><p class="post-preview svelte-hmgmo2">How and when to use deconstruction syntax-sugar for your custom types in C#</p><!--]--></hgroup></div></div><!----> <div class="space-container undefined svelte-7gsxae"><article class="svelte-1dc6gs2"><div class="post-navigation top-navigation svelte-1dc6gs2"><!--[--><a href="/blog" class="button primary medium svelte-1edpa7d"><!---->← Back to all posts<!----></a><!--]--><!----></div> <!--[!--><!--]--> <div class="prose"><h2 id="about-tuples-in-c-7"><a class="header-anchor" aria-hidden="true" tabindex="-1" href="#about-tuples-in-c-7">#</a>About tuples in C# 7</h2> <p>New tuples and its support in C# 7 are blazing-cool:</p> <ul><li>they are structures, so no heap allocations;</li> <li>they have aliases for names of its fields (<code>tuple.Info</code> vs old <code>tuple.Item1</code>);</li> <li>they bring syntax-sugar of deconstruction;</li></ul> <p>Moreover, the deconstruction can be used not only for build-in tuples, but also for your own classes and structures.</p> <h2 id="deconstruction-for-tuples"><a class="header-anchor" aria-hidden="true" tabindex="-1" href="#deconstruction-for-tuples">#</a>Deconstruction for tuples</h2> <p>Let’s start with the original usage for tuples. If you are already familiar with it, you may jump to <a href="#implementing-deconstruction-for-custom-types">the next block</a>.</p> <p>For example, you have a method, which returns a statistic about most frequent word in a form of a tuple with two fields: word and count. Below is the example of such method:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> group</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Split</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">'</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> '</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">GroupBy</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">s</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =></span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> s</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">OrderByDescending</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">grouping</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =></span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> grouping</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">())</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">First</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">    return</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">group</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Key</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> group</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">());</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>As you see, <code>GetMostFrequentWord</code> returns unnamed tuple, and you can access its fields via <code>Item1</code> and <code>Item2</code>:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> stat</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">stat</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Item1</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">stat</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Item2</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>On the other hand, if you implement named-tuple, those values can be accessed through aliases, you just need to make some changes into declaration of the tuple:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">// we added aliases for the output below</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">    // same logic</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> stat</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">    // but now we use aliases for fields</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">stat</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">word</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">stat</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">count</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>However, our original need is just getting those fields <code>word</code> and <code>count</code>, we don’t really care about grouping tuple. So be it: with the help of deconstruction, we can initialize only variables <code>word</code> and <code>count</code>:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">    // no tuple now, just values from its fields</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    (</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">word</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">count</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>In addition, you can even use <code>var</code> for completely deconstructed tuple, instead of specifying explicit types for every field:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">var</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span></code></pre><!----> <p>If you don’t need some fields from deconstruction, you can use another feature of C# 7 - <a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/discards" rel="nofollow">discards</a>. For example, if we want to discard the creation of variable <code>count</code> during deconstruction, we can pass <code>_</code> instead:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> _</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWord</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Most frequent word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">word</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <h2 id="implementing-deconstruction-for-custom-types"><a class="header-anchor" aria-hidden="true" tabindex="-1" href="#implementing-deconstruction-for-custom-types">#</a>Implementing deconstruction for custom types</h2> <p>Using deconstruction of tuples is quite straightforward, how about user-defined types? You may want <code>GetMostFrequentWord</code> to return your own struct <code>WordStat</code>:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> struct</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> WordStat</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#123;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> get</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> set</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#123;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> get</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> set</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> WordStat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">        Word </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">        Count </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> WordStat</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWordStats</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> group</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Split</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">'</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> '</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">GroupBy</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">s</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =></span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> s</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">OrderByDescending</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">grouping</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =></span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> grouping</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">())</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        .</span><span style="color:#82AAFF;--shiki-dark:#B392F0">First</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">    return</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> WordStat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">group</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Key</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> group</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">());</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>Generic tuples are great, but there are several reasons for using your own models:</p> <ul><li>Better readability, as your code became less “technical”.</li> <li>Easy refactoring, for example, if you want to change field names or add new ones.</li> <li>Your model has domain specifics, but generic tuples - doesn’t.</li></ul> <p>So, we will use <code>WordStat</code> instead of a tuple, but can we use deconstruction for our model?</p> <p>We are lucky because we can add this feature to our type. All is needed is adding new public method <code>Deconstruct</code> with <code>out</code> parameters, that will be extracted during deconstruction:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Deconstruct</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#C792EA;--shiki-dark:#F97583">out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    word </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    count </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>After that, smart compiler will use this method to produce deconstructed values:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">    // visually nothing has changed</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWordStats</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">word</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">count</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>Deconstructed fields must be of same types and in same order and count, as they appear in <code>Deconstruct</code>. You can have as many configurations of deconstruction, as how many overrides of <code>Deconstruct</code> you have.
One more thing - <code>Deconstruct</code> may be an extension-method!</p> <p>Let’s add a new field <code>WordLength</code> to <code>WordStat</code> and write an extension to get all those three fields:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#C792EA;--shiki-dark:#F97583"> static</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> class</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Extensions</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#C792EA;--shiki-dark:#F97583"> static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Deconstruct</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#C792EA;--shiki-dark:#F97583">this</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Program</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">WordStat</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> stat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> int</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> length</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">        word </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> stat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">        count </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> stat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">        length </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> stat</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">WordLength</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>Now we can get word’s length from deconstruction:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">static</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Main</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> args</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">    string</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> text</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF"> "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">tuple for testing tuple</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">    var</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">word</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> length</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> GetMostFrequentWordStats</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">text</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">word: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">word</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">count</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">, length: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">length</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <h2 id="use-cases-of-deconstruction"><a class="header-anchor" aria-hidden="true" tabindex="-1" href="#use-cases-of-deconstruction">#</a>Use-cases of deconstruction</h2> <p>Imagine a service, which sends you some data, for example aggregational count of some records in some data-sources. Method takes a long time to aggregate. Let’s say it’s signature will be:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;--shiki-dark:#B392F0">Task</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#89DDFF;--shiki-dark:#F97583">int</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> dataSourcesUrls</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span></code></pre><!----> <p>What if service failed, while retrieving count; or even more complicated - it failed only for several sources. What will be the result of <code>Count</code>: partial count, <code>default(int)</code>, <code>-1</code>, <code>null</code> (if it will be <code>Nullable&lt;int></code>)? Or maybe <code>Count</code> will throw an exception?</p> <p>One approach is to use complex type as a result; often it is named as <strong>Operation Result</strong>. It usually consists of requested data and some information about errors, which have been occurred (or not). Below is the example:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">// Our service</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> class</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> AggregationService</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Task</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#89DDFF;--shiki-dark:#F97583">int</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">>></span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#F97583">string</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> dataSourcesUrls</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        return</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Task</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">FromResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#89DDFF;--shiki-dark:#F97583">int</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">>.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">CreatePartly</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#F78C6C;--shiki-dark:#79B8FF">100</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#F97583">                new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Data from url '</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">dataSourcesUrls</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">[</span><span style="color:#F78C6C;--shiki-dark:#79B8FF">0</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">]&#125;</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">' was not loaded, but it's OK, go on</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)));</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">// Complex result</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> class</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    private</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> bool</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Success</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#123;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> get</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#C792EA;--shiki-dark:#F97583"> private</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> set</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#125;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> TResult</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#123;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> get</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#C792EA;--shiki-dark:#F97583"> private</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> set</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#125;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#123;</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> get</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#C792EA;--shiki-dark:#F97583"> private</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> set</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> &#125;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> bool</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> IsTotallySuccessful</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =></span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Success </span><span style="color:#89DDFF;--shiki-dark:#F97583">&#x26;&#x26;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Exception </span><span style="color:#89DDFF;--shiki-dark:#F97583">==</span><span style="color:#89DDFF;--shiki-dark:#79B8FF"> null</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">    // Factories</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#C792EA;--shiki-dark:#F97583"> static</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span><span style="color:#82AAFF;--shiki-dark:#B392F0"> CreateSuccessful</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        return</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Success </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#FF9CAC;--shiki-dark:#79B8FF"> true</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Result </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> result</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#125;;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#C792EA;--shiki-dark:#F97583"> static</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span><span style="color:#82AAFF;--shiki-dark:#B392F0"> CreatePartly</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> e</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        return</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Success </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#FF9CAC;--shiki-dark:#79B8FF"> true</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Result </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Exception </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> e</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#125;;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#C792EA;--shiki-dark:#F97583"> static</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span><span style="color:#82AAFF;--shiki-dark:#B392F0"> CreateFailed</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> e</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        return</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> OperationResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">TResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Success </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#FF9CAC;--shiki-dark:#79B8FF"> false</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Exception </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> e</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#125;;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit">// Consumer of our service</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#FFCB6B;--shiki-dark:#F97583"> class</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Consumer</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">    public</span><span style="color:#C792EA;--shiki-dark:#F97583"> async</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Task</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Run</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#123;</span></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">        var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> urls</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">[]</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#123;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#9ECBFF">            "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">https://www.maltsev.space/sources/1</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#9ECBFF">            "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">https://www.maltsev.space/sources/2</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#9ECBFF">            "</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">https://www.maltsev.space/sources/3</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">"</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">        &#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">        var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> service</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#F97583"> new</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> AggregationService</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">        var</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> countResult</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#F97583"> await</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> service</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">urls</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">).</span><span style="color:#82AAFF;--shiki-dark:#B392F0">ConfigureAwait</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FF9CAC;--shiki-dark:#79B8FF">false</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        if</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">IsTotallySuccessful</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Total count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Result</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        else</span><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit"> if</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Success</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Count is around: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Result</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;</span><span style="color:#BABED8;--shiki-dark:#79B8FF">&#92;n</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Error: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Exception</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">        else</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">            Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Error: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">countResult</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">.</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">Exception</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">    &#125;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>The main idea is that it is grouping result and errors, so we have full information about result of the operation and may react as we want. In our case we want to show user any result, even if it isn’t full.</p> <p>So, as in the example with frequent word, our model of complex result just group everything together. It’s useful when we construct complex result via our factory-methods, but then in the consumer we need only its fields.</p> <p>There may be different ways of how we consume these results, for example, we just need requested data, even if it may be equals <code>default</code> (empty).</p> <p>So, we can use deconstruction and discards. Firstly, we create <code>Deconstruct</code> with all 4 fields:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#C792EA;--shiki-dark:#F97583">public</span><span style="color:#89DDFF;--shiki-dark:#F97583"> void</span><span style="color:#82AAFF;--shiki-dark:#B392F0"> Deconstruct</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#C792EA;--shiki-dark:#F97583">out</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> TResult</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> bool</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> success</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#89DDFF;--shiki-dark:#F97583"> bool</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> totalSuccess</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#C792EA;--shiki-dark:#F97583"> out</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> Exception</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> exception</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#123;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    result </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Result</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    success </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Success</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    totalSuccess </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> IsTotallySuccessful</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    exception </span><span style="color:#89DDFF;--shiki-dark:#F97583">=</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> Exception</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#89DDFF;--shiki-dark:#E1E4E8">&#125;</span></span></code></pre><!----> <p>Then we can deconstruct it as we want:</p> <!----><pre class="shiki shiki-themes material-theme-palenight github-dark" style="background-color:#292D3E;--shiki-dark-bg:#24292e;color:#babed8;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;--shiki-dark:#F97583">var</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8"> (</span><span style="color:#FFCB6B;--shiki-dark:#B392F0">count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> _</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> totalSuccess</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">,</span><span style="color:#FFCB6B;--shiki-dark:#B392F0"> _</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span><span style="color:#89DDFF;--shiki-dark:#F97583"> =</span><span style="color:#89DDFF;--shiki-dark:#F97583"> await</span><span style="color:#BABED8;--shiki-dark:#E1E4E8"> service</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">Count</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">urls</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">).</span><span style="color:#82AAFF;--shiki-dark:#B392F0">ConfigureAwait</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#FF9CAC;--shiki-dark:#79B8FF">false</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;--shiki-dark:#F97583;--shiki-dark-font-style:inherit">if</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">totalSuccess</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#BABED8;--shiki-dark:#E1E4E8">    Trace</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">.</span><span style="color:#82AAFF;--shiki-dark:#B392F0">WriteLine</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">(</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">$"</span><span style="color:#C3E88D;--shiki-dark:#9ECBFF">Total count: </span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#123;</span><span style="color:#BABED8;--shiki-dark:#E1E4E8">count</span><span style="color:#89DDFF;--shiki-dark:#9ECBFF">&#125;"</span><span style="color:#89DDFF;--shiki-dark:#E1E4E8">);</span></span></code></pre><!----> <p>And that’s it, were are ready to go on!</p> <h2 id="further-reading"><a class="header-anchor" aria-hidden="true" tabindex="-1" href="#further-reading">#</a>Further reading</h2> <ul><li><a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/deconstruct" rel="nofollow">Documentation about deconstruction</a></li> <li><a href="https://blogs.msdn.microsoft.com/seteplia/2017/11/01/dissecting-the-tuples-in-c-7/" rel="nofollow">Some investigation about how new tuples work</a></li> <li><a href="https://www.codeproject.com/Articles/1022462/Error-Handling-in-SOLID-Csharp-NET-The-Operation-R" rel="nofollow">Article about different kinds of error handling, like OperationResult</a></li></ul><!----></div> <footer class="post-footer svelte-1dc6gs2"><div class="post-navigation svelte-1dc6gs2"><!--[--><a href="/blog" class="button primary medium svelte-1edpa7d"><!---->← Back to all posts<!----></a><!--]--><!----></div> <!--[!--><!--]--> <div class="card default svelte-1f4837s"><!--[!--><!--]--> <div class="card-content svelte-1f4837s"><div class="share-message svelte-1dc6gs2">Enjoyed this post? Share it with the universe!</div> <div class="share-buttons svelte-1dc6gs2"><a class="link default share-link twitter svelte-blzdii" target="_blank" rel="noopener noreferrer" href="https://twitter.com/intent/tweet?text=Benefits%20of%20deconstructors%20for%20custom%20types&amp;url=" aria-label="Share on Twitter"><!---->Twitter<!----> <!--[!--><!--]--></a><!----> <a class="link default share-link linkedin svelte-blzdii" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;title=Benefits%20of%20deconstructors%20for%20custom%20types&amp;url=" aria-label="Share on LinkedIn"><!---->LinkedIn<!----> <!--[!--><!--]--></a><!----> <a class="link default share-link facebook svelte-blzdii" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/sharer/sharer.php?u=" aria-label="Share on Facebook"><!---->Facebook<!----> <!--[!--><!--]--></a><!----></div><!----></div> <!--[!--><!--]--></div><!----></footer></article> <!--[--><div class="referenced-posts svelte-1dc6gs2"><h2 class="svelte-1dc6gs2">Want to read more?</h2> <div class="posts-grid svelte-1xu41xx"><!--[--><a href="/blog/012-simd-within-a-register-how-i-doubled-hash-table-lookup-performance" class="content-card-link svelte-1e8k5qp"><div class="card neon clickable content-card svelte-1f4837s"><!--[--><!--[!--><!--]--> <!--[!--><picture class="svelte-1f4837s"><!--[--><source srcset="/_app/immutable/assets/hero.CAYiYJgd.avif 1x, /_app/immutable/assets/hero.2A24B_Gh.avif 2x" sizes="min(800px, 30vw)" type="image/avif" class="svelte-1f4837s"><source srcset="/_app/immutable/assets/hero.VTA5Cz52.webp 1x, /_app/immutable/assets/hero.Cvegwbyq.webp 2x" sizes="min(800px, 30vw)" type="image/webp" class="svelte-1f4837s"><source srcset="/_app/immutable/assets/hero.Blfknt1o.jpg 1x, /_app/immutable/assets/hero.CvtWwOfE.jpg 2x" sizes="min(800px, 30vw)" type="image/jpeg" class="svelte-1f4837s"><!--]--> <img src="/_app/immutable/assets/hero.CvtWwOfE.jpg" loading="lazy" class="cover-image real-image svelte-1f4837s" width="1536" height="1024" onload="this.__e=event" onerror="this.__e=event"></picture><!--]--><!--]--> <div class="card-content svelte-1f4837s"><!--[!--><!--]--> <div class="card-content svelte-1e8k5qp"><!--[--><span class="card-date svelte-1e8k5qp">2025-07-15</span><!--]--> <h3 class="card-title svelte-1e8k5qp">SIMD Within a Register: How I Doubled Hash Table Lookup Performance</h3> <p class="card-description svelte-1e8k5qp">It started with a simple thought: four bytes in a hash table bucket look just like an integer. Luckily, this one idea led to a deep dive into bit-twiddling and a 2x performance boost.</p> <!--[!--><!--]--> <!--[--><div class="card-tags svelte-1e8k5qp"><!--[--><span class="badge subtle small svelte-1ffaubh"><!---->Bitwise<!----></span><span class="badge subtle small svelte-1ffaubh"><!---->C#<!----></span><!--]--></div><!--]--></div><!----></div> <!--[--><div class="neon-border svelte-1f4837s"></div><!--]--></div><!----></a><a href="/blog/011-practical-bitwise-tricks-in-everyday-code" class="content-card-link svelte-1e8k5qp"><div class="card neon clickable content-card svelte-1f4837s"><!--[--><!--[!--><!--]--> <!--[!--><picture class="svelte-1f4837s"><!--[--><source srcset="/_app/immutable/assets/hero.u8BEqUl_.avif 1x, /_app/immutable/assets/hero.LFrqv3X0.avif 2x" sizes="min(800px, 30vw)" type="image/avif" class="svelte-1f4837s"><source srcset="/_app/immutable/assets/hero.CKxIXTle.webp 1x, /_app/immutable/assets/hero.DAVKIi1O.webp 2x" sizes="min(800px, 30vw)" type="image/webp" class="svelte-1f4837s"><source srcset="/_app/immutable/assets/hero.ZY5Je-2-.jpg 1x, /_app/immutable/assets/hero.xHvcAvrs.jpg 2x" sizes="min(800px, 30vw)" type="image/jpeg" class="svelte-1f4837s"><!--]--> <img src="/_app/immutable/assets/hero.xHvcAvrs.jpg" loading="lazy" class="cover-image real-image svelte-1f4837s" width="1536" height="1024" onload="this.__e=event" onerror="this.__e=event"></picture><!--]--><!--]--> <div class="card-content svelte-1f4837s"><!--[!--><!--]--> <div class="card-content svelte-1e8k5qp"><!--[--><span class="card-date svelte-1e8k5qp">2025-07-07</span><!--]--> <h3 class="card-title svelte-1e8k5qp">Practical Bitwise Tricks in Everyday Code</h3> <p class="card-description svelte-1e8k5qp">An opinionated and short collection of bitwise tricks that make sense at an average 1x engineer's code.</p> <!--[!--><!--]--> <!--[--><div class="card-tags svelte-1e8k5qp"><!--[--><span class="badge subtle small svelte-1ffaubh"><!---->Bitwise<!----></span><!--]--></div><!--]--></div><!----></div> <!--[--><div class="neon-border svelte-1f4837s"></div><!--]--></div><!----></a><!--]--></div><!----></div><!--]--><!----></div><!----><!----><!--]--><!----></main> <footer class="svelte-1mbgpkc"><div class="space-container undefined svelte-7gsxae"><p class="space-text-small">© 2025 | Aleksey Maltsev</p><!----></div><!----></footer><!----></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1kp5pn7 = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.C1VKrDq1.js"),
						import("../_app/immutable/entry/app.Bn5Dz8OT.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 8],
							data: [null,{type:"data",data:{placeholderUrl:"data:image/png;base64,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",views:6},uses:{params:["slug"]}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
